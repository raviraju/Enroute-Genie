<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <left-data-source class="cdc.impl.datasource.text.CSVDataSource" name="blobTripAdvSrc">
        <params>
            <param name="column-separator" value=","/>
            <param name="source-name" value="blobTripAdvSrc"/>
            <param name="input-file" value="/media/ravirajukrishna/Windows/Users/Ravi/Desktop/USC/Courses_Sem3/Info_Integrate_Web/Project/Enroute-Genie/data_record_linkage_csv/california/city_match/match_blog_tripAvisor_result.csv"/>
        </params>
        <row-model>
            <column column="mention_name@blogSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="mention_name@blogSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="mention_type@blogSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="mention_type@blogSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="mention_popularity@blogSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="mention_popularity@blogSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="mention_address@blogSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="mention_address@blogSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="mention_longitude@blogSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="mention_longitude@blogSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="mention_latitude@blogSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="mention_latitude@blogSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="no_of_blogFiles@blogSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="no_of_blogFiles@blogSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="mention_found_in_blogFiles@blogSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="mention_found_in_blogFiles@blogSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="youTubeLinkIds@blogSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="youTubeLinkIds@blogSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="attraction_in@tripAdvisorSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="attraction_in@tripAdvisorSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="attraction_longitude@tripAdvisorSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="attraction_longitude@tripAdvisorSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="attraction_latitude@tripAdvisorSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="attraction_latitude@tripAdvisorSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="attraction_in_file@tripAdvisorSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="attraction_in_file@tripAdvisorSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="youTubeLinkIds@tripAdvisorSrc"
                converter="cdc.datamodel.converters.DummyConverter" name="youTubeLinkIds@tripAdvisorSrc">
                <empty-values/>
                <params/>
            </column>
            <column column="mention_long_round"
                converter="cdc.datamodel.converters.DummyConverter" name="mention_long_round">
                <empty-values/>
                <params/>
            </column>
            <column column="mention_lat_round"
                converter="cdc.datamodel.converters.DummyConverter" name="mention_lat_round">
                <empty-values/>
                <params/>
            </column>
        </row-model>
        <preprocessing>
            <deduplication>
                <deduplication-condition acceptance-level="100">
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="mention_name@blogSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="mention_type@blogSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="mention_popularity@blogSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="mention_address@blogSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="mention_longitude@blogSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="mention_latitude@blogSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="no_of_blogFiles@blogSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="mention_found_in_blogFiles@blogSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="youTubeLinkIds@blogSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="attraction_in@tripAdvisorSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="attraction_longitude@tripAdvisorSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="attraction_latitude@tripAdvisorSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="attraction_in_file@tripAdvisorSrc" weight="7">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="youTubeLinkIds@tripAdvisorSrc" weight="9">
                        <params/>
                    </condition>
                </deduplication-condition>
                <hashing-function columns="mention_name@blogSrc" hash="equality"/>
                <minus-file file="match_blog_tripAvisor_result_duplicates.csv"/>
            </deduplication>
        </preprocessing>
    </left-data-source>
    <right-data-source class="cdc.impl.datasource.text.CSVDataSource" name="dbPediaSrc">
        <params>
            <param name="column-separator" value=","/>
            <param name="source-name" value="dbPediaSrc"/>
            <param name="input-file" value="/media/ravirajukrishna/Windows/Users/Ravi/Desktop/USC/Courses_Sem3/Info_Integrate_Web/Project/Enroute-Genie/data_record_linkage_csv/california/city_match/isPartOf_california_query.csv#ENC=UTF-8#"/>
        </params>
        <row-model>
            <column column="subject"
                converter="cdc.datamodel.converters.DummyConverter" name="subject">
                <empty-values/>
                <params/>
            </column>
            <column column="type"
                converter="cdc.datamodel.converters.DummyConverter" name="type">
                <empty-values/>
                <params/>
            </column>
            <column column="label"
                converter="cdc.datamodel.converters.DummyConverter" name="label">
                <empty-values/>
                <params/>
            </column>
            <column column="comment"
                converter="cdc.datamodel.converters.DummyConverter" name="comment">
                <empty-values/>
                <params/>
            </column>
            <column column="abstract"
                converter="cdc.datamodel.converters.DummyConverter" name="abstract">
                <empty-values/>
                <params/>
            </column>
            <column column="long"
                converter="cdc.datamodel.converters.DummyConverter" name="long">
                <empty-values/>
                <params/>
            </column>
            <column column="lat"
                converter="cdc.datamodel.converters.DummyConverter" name="lat">
                <empty-values/>
                <params/>
            </column>
            <column column="long_round"
                converter="cdc.datamodel.converters.DummyConverter" name="long_round">
                <empty-values/>
                <params/>
            </column>
            <column column="lat_round"
                converter="cdc.datamodel.converters.DummyConverter" name="lat_round">
                <empty-values/>
                <params/>
            </column>
        </row-model>
        <preprocessing>
            <deduplication>
                <deduplication-condition acceptance-level="100">
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="subject" weight="20">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="type" weight="20">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="label" weight="20">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="comment" weight="20">
                        <params/>
                    </condition>
                    <condition
                        class="cdc.impl.distance.EqualFieldsDistance"
                        column="abstract" weight="20">
                        <params/>
                    </condition>
                </deduplication-condition>
                <hashing-function columns="subject" hash="equality"/>
                <minus-file file="/media/ravirajukrishna/Windows/Users/Ravi/Desktop/USC/Courses_Sem3/Info_Integrate_Web/Project/Enroute-Genie/data_record_linkage_csv/california/city_match/isPartOf_california_query_duplicates.csv"/>
            </deduplication>
        </preprocessing>
    </right-data-source>
    <join class="cdc.impl.join.snm.SNMJoin_v1" summary-left="true" summary-right="true">
        <params>
            <param name="sort-order-right" value="mention_lat_round,mention_long_round"/>
            <param name="window" value="8"/>
            <param name="sort-order-left" value="lat_round,long_round"/>
        </params>
        <join-condition class="cdc.impl.conditions.WeightedJoinCondition">
            <params>
                <param name="acceptance-level" value="100"/>
            </params>
            <condition class="cdc.impl.distance.NumericDistance"
                left-column="mention_lat_round" right-column="lat_round" weight="50">
                <params>
                    <param name="numeric-difference" value="0.0,0.0"/>
                    <param name="use-lineral-approximation" value="true"/>
                </params>
            </condition>
            <condition class="cdc.impl.distance.NumericDistance"
                left-column="mention_long_round"
                right-column="long_round" weight="50">
                <params>
                    <param name="numeric-difference" value="0.0,0.0"/>
                    <param name="use-lineral-approximation" value="true"/>
                </params>
            </condition>
        </join-condition>
        <row-model>
            <column name="mention_name@blogSrc" source="blobTripAdvSrc"/>
            <column name="mention_type@blogSrc" source="blobTripAdvSrc"/>
            <column name="mention_popularity@blogSrc" source="blobTripAdvSrc"/>
            <column name="mention_address@blogSrc" source="blobTripAdvSrc"/>
            <column name="mention_longitude@blogSrc" source="blobTripAdvSrc"/>
            <column name="mention_latitude@blogSrc" source="blobTripAdvSrc"/>
            <column name="no_of_blogFiles@blogSrc" source="blobTripAdvSrc"/>
            <column name="mention_found_in_blogFiles@blogSrc" source="blobTripAdvSrc"/>
            <column name="youTubeLinkIds@blogSrc" source="blobTripAdvSrc"/>
            <column name="attraction_in@tripAdvisorSrc" source="blobTripAdvSrc"/>
            <column name="attraction_longitude@tripAdvisorSrc" source="blobTripAdvSrc"/>
            <column name="attraction_latitude@tripAdvisorSrc" source="blobTripAdvSrc"/>
            <column name="attraction_in_file@tripAdvisorSrc" source="blobTripAdvSrc"/>
            <column name="youTubeLinkIds@tripAdvisorSrc" source="blobTripAdvSrc"/>
            <column name="subject" source="dbPediaSrc"/>
            <column name="type" source="dbPediaSrc"/>
            <column name="label" source="dbPediaSrc"/>
            <column name="comment" source="dbPediaSrc"/>
            <column name="abstract" source="dbPediaSrc"/>
        </row-model>
    </join>
    <results-savers>
        <results-saver class="cdc.impl.resultsavers.DeduplicatingResultsSaver">
            <params>
                <param name="delete-duplicates" value="ask"/>
                <param name="deduplication" value="both"/>
            </params>
            <savers>
                <results-saver class="cdc.impl.resultsavers.CSVFileSaver">
                    <params>
                        <param name="encoding" value="UTF-8"/>
                        <param name="output-file" value="/media/ravirajukrishna/Windows/Users/Ravi/Desktop/USC/Courses_Sem3/Info_Integrate_Web/Project/Enroute-Genie/data_record_linkage_csv/california/city_match/result.csv"/>
                    </params>
                </results-saver>
            </savers>
        </results-saver>
    </results-savers>
</configuration>
